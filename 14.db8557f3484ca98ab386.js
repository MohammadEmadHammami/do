(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{o0rF:function(e,t,a){"use strict";a.r(t),a.d(t,"JobModule",function(){return g});var i=a("bGsp"),s=a("ofXK"),o=a("Yyql"),n=a("fXoL"),r=a("vWH4");let l=(()=>{class e{constructor(){this.headers=[{name:"photo",title:"",type:"image"},{name:"_id",title:"id"},{name:"title",title:"title"},{name:"description",title:"description"},{name:"company",title:"company",type:"text"},{name:"country",title:"country",width:"1/2"},{name:"city",title:"city",width:"1/2"},{name:"email",title:"E-mail"},{name:"deletedAt",title:"status",type:"boolean",reverseBooleanColors:!0,values:["Enabled","Disabled"]},{name:"user",title:"Creator",link:"/dashboard/users/display?id=:user"}],this.list={headers:[{name:"_id",title:"id"},{name:"message",title:"message",maxLength:500},{name:"createdAt",title:"date",type:"date"}],buttons:[{icon:"fas fa-broom",color:"indigo",name:"clear reports",request:{url:"job/:id/clearReports",methode:"post"}}],rowsButtons:[{icon:"fas fa-eye",name:"",color:"indigo",link:"/dashboard/reports/display?id=:_id"}],icon:"fas fa-exclamation-triangle",title:"list of reports",name:"reports"},this.buttons=[{name:"Enable",icon:"fas fa-lightbulb",color:"green",request:{url:"job/:id/status",methode:"post"},condition:"deletedAt"},{name:"Disable",icon:"far fa-lightbulb",color:"red",request:{url:"job/:id/status",methode:"post"},condition:"!deletedAt"},{name:"Edit",icon:"fas fa-edit",link:"/dashboard/jobs/form/edit?id=:id",color:"gray"},{name:"Delete",icon:"fas fa-trash-alt",color:"red",request:{url:"job/dash/:id",methode:"delete",redirectURL:"/dashboard/jobs/list"},confirmation:{title:"Delete job",text:"Are you sure you want to delete this job",confirmButtonText:"Yes",confirmButtonColor:"red",showCancelButton:!0,cancelButtonText:"No",icon:"warning"}}]}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=n.Eb({type:e,selectors:[["app-display-job"]],decls:1,vars:3,consts:[["singleName","job","retrieveURL","job/dash/:id","deleteURL","job/:id","redirectLink","/dashboard/jobs/list","editLink","/dashboard/jobs/form/edit","icon","fas fa-cog",3,"headers","buttons","list"]],template:function(e,t){1&e&&n.Lb(0,"app-display",0),2&e&&n.dc("headers",t.headers)("buttons",t.buttons)("list",t.list)},directives:[r.a],styles:[""]}),e})();var d=a("tyNb");let c=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=n.Eb({type:e,selectors:[["app-job"]],decls:1,vars:0,template:function(e,t){1&e&&n.Lb(0,"router-outlet")},directives:[d.g],styles:[""]}),e})();var u=a("pbSD"),p=a("ENac");let h=(()=>{class e{constructor(e){this.jsonService=e,this.countries={},this.headers=[]}ngOnInit(){this.getJsonData()}getJsonData(){this.countries=JSON.parse(localStorage.getItem("countries")),this.initializeHeaders()}initializeHeaders(){this.headers=[{name:"photo",title:"",type:"image",value:""},{name:"id",title:"id",hidden:!0,value:""},{name:"title",title:"title",type:"text",value:""},{name:"description",title:"description",type:"textarea",value:""},{name:"country",title:"country",type:"select",width:"1/2",options:Object.keys(this.countries),value:Object.keys(this.countries)[0]},{name:"city",title:"city",type:"select",width:"1/2",options:this.countries[Object.keys(this.countries)[0]],value:this.countries[Object.keys(this.countries)[0]][0]},{name:"company",title:"company",type:"text",value:""},{name:"email",title:"E-mail",type:"email",value:""},{name:"enabled",title:"status",type:"boolean",options:["disabled","enabled"],value:!0}]}changeHeaders(e){this.headers=e}fieldChanged(e){"country"==e.name&&(this.headers=this.headers.map(t=>("city"==t.name&&(t.options=this.countries[e.value],t.value=this.countries[e.value][0]),t)))}}return e.\u0275fac=function(t){return new(t||e)(n.Kb(u.a))},e.\u0275cmp=n.Eb({type:e,selectors:[["app-job-form"]],decls:1,vars:1,consts:[["plurarName","jobs","singleName","job","icon","fas fa-business-time","redirectLink","/dashboard/jobs/list","retrieveURL","job/dash/:id","storeURL","job/","updateURL","job/:id",3,"headers","headersChanged","onChange"]],template:function(e,t){1&e&&(n.Pb(0,"app-form",0),n.Wb("headersChanged",function(e){return t.changeHeaders(e)})("onChange",function(e){return t.fieldChanged(e)}),n.Ob()),2&e&&n.dc("headers",t.headers)},directives:[p.a],styles:[""]}),e})();var m=a("vmXk"),b=a("5VZg");const f=[{path:"",component:c,children:[{path:"",redirectTo:"list",pathMatch:"full"},{path:"list",component:(()=>{class e{constructor(){this.headers=[{name:"photo",title:"",type:"avatar",sort:!1,align:"center"},{name:"_id",title:"id"},{name:"title",title:"title"},{name:"description",title:"description",maxLength:80},{name:"city",title:"city"},{name:"city",title:"city"},{name:"deletedAt",title:"status",type:"boolean",reverseBooleanColors:!0,values:["Enabled","Disabled"]},{name:"reports",title:"reports"}]}ngOnInit(){this.getUser()}getUser(){this.user=(new m.a).initialize(JSON.parse(localStorage.getItem("user")))}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=n.Eb({type:e,selectors:[["app-list"]],decls:2,vars:3,consts:[[1,"container-fluid"],["plurarName","jobs","singleName","job","deleteURL","job/dash/:id","retrieveURL","job/all","displayLink","/dashboard/jobs/display","editLink","/dashboard/jobs/form/edit","createLink","/dashboard/jobs/form/create","icon","fas fa-business-time",3,"headers","showCreateButton","showUpdateButton"]],template:function(e,t){1&e&&(n.Pb(0,"div",0),n.Lb(1,"app-table",1),n.Ob()),2&e&&(n.zb(1),n.dc("headers",t.headers)("showCreateButton","SUPER ADMIN"==t.user.role)("showUpdateButton","SUPER ADMIN"==t.user.role))},directives:[b.a],styles:[""]}),e})()},{path:"form/:type",component:h,canActivate:[o.a]},{path:"display",component:l}]}];let y=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.Ib({type:e}),e.\u0275inj=n.Hb({imports:[[d.f.forChild(f)],d.f]}),e})(),g=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.Ib({type:e}),e.\u0275inj=n.Hb({imports:[[s.b,y,i.a]]}),e})()}}]);