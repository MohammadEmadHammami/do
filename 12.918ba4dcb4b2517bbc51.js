(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{Pikl:function(e,t,a){"use strict";a.r(t),a.d(t,"ChannelModule",function(){return g});var n=a("bGsp"),s=a("ofXK"),i=a("Yyql"),o=a("fXoL"),r=a("tyNb"),l=a("vWH4"),c=a("5VZg");function d(e,t){if(1&e&&(o.Pb(0,"div",2),o.Lb(1,"app-table",3),o.Ob()),2&e){const e=o.Yb();o.zb(1),o.dc("headers",e.postHeaders)("retrieveURL","channel/"+e.channelId+"/posts")("showCreateButton",!1)("showUpdateButton",!1)}}let p=(()=>{class e{constructor(e){this.route=e,this.headers=[{name:"photo",title:"",type:"image",value:""},{name:"_id",title:"id"},{name:"name",title:"name"},{name:"description",title:"description"},{name:"country",title:"country",width:"1/2"},{name:"city",title:"city",width:"1/2"},{name:"user",title:"Creator",link:"/dashboard/users/display?id=:user"},{name:"approved",title:"approvement",type:"boolean",values:["Not approved","Approved"]},{name:"enabled",title:"status",type:"boolean",values:["Disabled","Enabled"]}],this.list={headers:[{name:"_id",title:"id"},{name:"message",title:"message",maxLength:500},{name:"createdAt",title:"date",type:"date"}],buttons:[{icon:"fas fa-broom",color:"indigo",name:"clear reports",request:{url:"channel/:id/clearReports",methode:"post"}}],rowsButtons:[{icon:"fas fa-eye",name:"",color:"indigo",link:"/dashboard/reports/display?id=:_id"}],icon:"fas fa-exclamation-triangle",title:"list of reports",name:"reports"},this.buttons=[{name:"Enable",icon:"fas fa-lightbulb",color:"green",request:{url:"channel/:id/status",methode:"post"},condition:"!enabled"},{name:"Disable",icon:"far fa-lightbulb",color:"red",request:{url:"channel/:id/status",methode:"post"},condition:"enabled"},{name:"Approve",icon:"fas fa-check",color:"green",request:{url:"channel/:id/approvement",methode:"post"},condition:"!approved"},{name:"Decline",icon:"fas fa-times",color:"red",request:{url:"channel/:id/approvement",methode:"post"},condition:"approved"},{name:"Edit",icon:"fas fa-edit",link:"/dashboard/channels/form/edit?id=:id",color:"gray"},{name:"Delete",icon:"fas fa-trash-alt",color:"red",request:{url:"channel/dash/:id",methode:"delete",redirectURL:"/dashboard/channels/list"},confirmation:{title:"Delete Channel",text:"Are you sure you want to delete this channel",confirmButtonText:"Yes",confirmButtonColor:"red",showCancelButton:!0,cancelButtonText:"No",icon:"warning"}}],this.postHeaders=[{name:"_id",title:"id"},{name:"text",title:"content",maxLength:40},{name:"user",title:"user"},{name:"comments",title:"comments"},{name:"reports",title:"reports"}]}ngOnInit(){this.getChannelId()}getChannelId(){this.route.queryParamMap.subscribe(e=>{this.channelId=e.get("id")})}}return e.\u0275fac=function(t){return new(t||e)(o.Kb(r.a))},e.\u0275cmp=o.Eb({type:e,selectors:[["app-display-channel"]],decls:2,vars:4,consts:[["singleName","channel","retrieveURL","channel/:id","deleteURL","channel/:id","redirectLink","/dashboard/channels/list","editLink","/dashboard/channels/form/edit","icon","fas fa-project-diagram",3,"headers","buttons","list"],["id","before-reports",4,"ngIf"],["id","before-reports"],["plurarName","posts","singleName","post","deleteURL","channel/post/:id","displayLink","/dashboard/posts/display","icon","fas fa-clone",3,"headers","retrieveURL","showCreateButton","showUpdateButton"]],template:function(e,t){1&e&&(o.Pb(0,"app-display",0),o.nc(1,d,2,4,"div",1),o.Ob()),2&e&&(o.dc("headers",t.headers)("buttons",t.buttons)("list",t.list),o.zb(1),o.dc("ngIf",t.channelId))},directives:[l.a,s.k,c.a],styles:[""]}),e})();var h=a("pbSD"),u=a("ENac");let m=(()=>{class e{constructor(e){this.jsonService=e,this.countries={},this.headers=[]}ngOnInit(){this.getJsonData()}getJsonData(){this.countries=JSON.parse(localStorage.getItem("countries")),this.initializeHeaders()}initializeHeaders(){this.headers=[{name:"photo",title:"",type:"image",value:""},{name:"id",title:"id",hidden:!0,value:""},{name:"name",title:"name",type:"text",value:""},{name:"description",title:"description",type:"textarea",value:""},{name:"country",title:"country",type:"select",width:"1/2",options:Object.keys(this.countries),value:Object.keys(this.countries)[0]},{name:"city",title:"city",type:"select",width:"1/2",options:this.countries[Object.keys(this.countries)[0]],value:this.countries[Object.keys(this.countries)[0]][0]},{name:"approved",title:"approvement",type:"boolean",options:["not approved","approved"],value:!0},{name:"enabled",title:"status",type:"boolean",options:["disabled","enabled"],value:!0},{name:"global",title:"Add to all users",type:"checkbox",value:!1}]}changeHeaders(e){this.headers=e}fieldChanged(e){"country"==e.name&&(this.headers=this.headers.map(t=>("city"==t.name&&(t.options=this.countries[e.value],t.value=this.countries[e.value][0]),t)))}}return e.\u0275fac=function(t){return new(t||e)(o.Kb(h.a))},e.\u0275cmp=o.Eb({type:e,selectors:[["app-channel-form"]],decls:1,vars:1,consts:[["plurarName","channels","singleName","channel","icon","fas fa-project-diagram","redirectLink","/dashboard/channels/list","retrieveURL","channel/:id","storeURL","channel/","updateURL","channel/:id",3,"headers","headersChanged","onChange"]],template:function(e,t){1&e&&(o.Pb(0,"app-form",0),o.Wb("headersChanged",function(e){return t.changeHeaders(e)})("onChange",function(e){return t.fieldChanged(e)}),o.Ob()),2&e&&o.dc("headers",t.headers)},directives:[u.a],styles:[""]}),e})();var b=a("vmXk");let f=(()=>{class e{constructor(){this.headers=[{name:"photo",title:"",type:"avatar",sort:!1,align:"center"},{name:"_id",title:"id"},{name:"name",title:"name"},{name:"description",title:"description",maxLength:80},{name:"country",title:"country"},{name:"city",title:"city"},{name:"approved",title:"approvement",type:"boolean",values:["not approved","approved"]},{name:"enabled",title:"status",type:"boolean",values:["disabled","enabled"]},{name:"reports",title:"reports"}]}ngOnInit(){this.getUser()}getUser(){this.user=(new b.a).initialize(JSON.parse(localStorage.getItem("user")))}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=o.Eb({type:e,selectors:[["app-list"]],decls:1,vars:3,consts:[["plurarName","channels","singleName","channel","deleteURL","channel/dash/:id","retrieveURL","channel/all","displayLink","/dashboard/channels/display","editLink","/dashboard/channels/form/edit","createLink","/dashboard/channels/form/create","icon","fas fa-project-diagram",3,"headers","showCreateButton","showUpdateButton"]],template:function(e,t){1&e&&o.Lb(0,"app-table",0),2&e&&o.dc("headers",t.headers)("showCreateButton","SUPER ADMIN"==t.user.role)("showUpdateButton","SUPER ADMIN"==t.user.role)},directives:[c.a],styles:[""]}),e})();const y=[{path:"",component:(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=o.Eb({type:e,selectors:[["app-channel"]],decls:1,vars:0,template:function(e,t){1&e&&o.Lb(0,"router-outlet")},directives:[r.g],styles:[""]}),e})(),children:[{path:"",redirectTo:"list",pathMatch:"full"},{path:"list",component:f},{path:"form/:type",component:m,canActivate:[i.a]},{path:"display",component:p}]}];let v=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o.Ib({type:e}),e.\u0275inj=o.Hb({imports:[[r.f.forChild(y)],r.f]}),e})(),g=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o.Ib({type:e}),e.\u0275inj=o.Hb({imports:[[s.b,v,n.a]]}),e})()}}]);