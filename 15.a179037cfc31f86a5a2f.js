(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{bt5N:function(e,t,a){"use strict";a.r(t),a.d(t,"ProductModule",function(){return v});var r=a("bGsp"),i=a("ofXK"),s=a("Yyql"),n=a("fXoL"),o=a("vWH4");let l=(()=>{class e{constructor(){this.headers=[{name:"photo",title:"",type:"image"},{name:"_id",title:"id"},{name:"label",title:"label"},{name:"description",title:"description"},{name:"country",title:"country",width:"1/2"},{name:"city",title:"city",width:"1/2"},{name:"price",title:"price"},{name:"currency",title:"currency"},{name:"deletedAt",title:"status",type:"boolean",reverseBooleanColors:!0,values:["Enabled","Disabled"]},{name:"sold",title:"Availability",type:"boolean",values:["Available","Sold"]},{name:"user",title:"Creator",link:"/dashboard/users/display?id=:user"}],this.list={headers:[{name:"_id",title:"id"},{name:"message",title:"message",maxLength:500},{name:"createdAt",title:"date",type:"date"}],buttons:[{icon:"fas fa-broom",color:"indigo",name:"clear reports",request:{url:"product/:id/clearReports",methode:"post"}}],rowsButtons:[{icon:"fas fa-eye",name:"",color:"indigo",link:"/dashboard/reports/display?id=:_id"}],icon:"fas fa-exclamation-triangle",title:"list of reports",name:"reports"},this.buttons=[{name:"Enable",icon:"fas fa-lightbulb",color:"green",request:{url:"product/:id/status",methode:"post"},condition:"deletedAt"},{name:"Disable",icon:"far fa-lightbulb",color:"red",request:{url:"product/:id/status",methode:"post"},condition:"!deletedAt"},{name:"Edit",icon:"fas fa-edit",link:"/dashboard/products/form/edit?id=:id",color:"gray"},{name:"Delete",icon:"fas fa-trash-alt",color:"red",request:{url:"channel/dash/:id",methode:"delete",redirectURL:"/dashboard/channels/list"},confirmation:{title:"Delete Product",text:"Are you sure you want to delete this product",confirmButtonText:"Yes",confirmButtonColor:"red",showCancelButton:!0,cancelButtonText:"No",icon:"warning"}}]}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=n.Eb({type:e,selectors:[["app-display-product"]],decls:1,vars:3,consts:[["singleName","product","retrieveURL","product/dash/:id","deleteURL","product/:id","redirectLink","/dashboard/products/list","editLink","/dashboard/products/form/edit","icon","fas fa-box",3,"headers","buttons","list"]],template:function(e,t){1&e&&n.Lb(0,"app-display",0),2&e&&n.dc("headers",t.headers)("buttons",t.buttons)("list",t.list)},directives:[o.a],styles:[""]}),e})();var c=a("pbSD"),d=a("ENac");let u=(()=>{class e{constructor(e){this.jsonService=e,this.countries={},this.currencies={},this.headers=[]}ngOnInit(){this.getJsonData()}getJsonData(){this.countries=JSON.parse(localStorage.getItem("countries")),this.currencies=JSON.parse(localStorage.getItem("currencies")),this.initializeHeaders()}initializeHeaders(){this.headers=[{name:"photo",title:"",type:"image",value:""},{name:"id",title:"id",hidden:!0,value:""},{name:"label",title:"label",type:"text",value:""},{name:"description",title:"description",type:"textarea",value:""},{name:"country",title:"country",type:"select",width:"1/2",options:Object.keys(this.countries),value:Object.keys(this.countries)[0]},{name:"city",title:"city",type:"select",width:"1/2",options:this.countries[Object.keys(this.countries)[0]],value:this.countries[Object.keys(this.countries)[0]][0]},{name:"price",title:"price",type:"number",value:0},{name:"currency",title:"currency",type:"select",options:Object.keys(this.currencies),value:Object.keys(this.currencies)[0]},{name:"sold",title:"status",type:"boolean",options:["available","sold"],value:!0}]}changeHeaders(e){this.headers=e}fieldChanged(e){"country"==e.name&&(this.headers=this.headers.map(t=>("city"==t.name&&(t.options=this.countries[e.value],t.value=this.countries[e.value][0]),t)))}}return e.\u0275fac=function(t){return new(t||e)(n.Kb(c.a))},e.\u0275cmp=n.Eb({type:e,selectors:[["app-product-form"]],decls:1,vars:1,consts:[["plurarName","products","singleName","product","icon","fas fa-box","redirectLink","/dashboard/products/list","retrieveURL","product/dash/:id","storeURL","product/","updateURL","product/:id",3,"headers","headersChanged","onChange"]],template:function(e,t){1&e&&(n.Pb(0,"app-form",0),n.Wb("headersChanged",function(e){return t.changeHeaders(e)})("onChange",function(e){return t.fieldChanged(e)}),n.Ob()),2&e&&n.dc("headers",t.headers)},directives:[d.a],styles:[""]}),e})();var p=a("vmXk"),h=a("5VZg");let m=(()=>{class e{constructor(){this.headers=[{name:"photo",title:"",type:"avatar",sort:!1,align:"center"},{name:"_id",title:"id"},{name:"label",title:"label"},{name:"description",title:"description",maxLength:80},{name:"city",title:"city"},{name:"price",title:"price"},{name:"currency",title:"currency"},{name:"deletedAt",title:"status",type:"boolean",reverseBooleanColors:!0,values:["Enabled","Disabled"]},{name:"available",title:"availability",type:"boolean",values:["sold","available"]},{name:"reports",title:"reports"}]}ngOnInit(){this.getUser()}getUser(){this.user=(new p.a).initialize(JSON.parse(localStorage.getItem("user")))}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=n.Eb({type:e,selectors:[["app-list"]],decls:2,vars:3,consts:[[1,"container-fluid"],["plurarName","products","singleName","product","deleteURL","product/dash/:id","retrieveURL","product/all","displayLink","/dashboard/products/display","editLink","/dashboard/products/form/edit","createLink","/dashboard/products/form/create","icon","fas fa-boxes",3,"headers","showCreateButton","showUpdateButton"]],template:function(e,t){1&e&&(n.Pb(0,"div",0),n.Lb(1,"app-table",1),n.Ob()),2&e&&(n.zb(1),n.dc("headers",t.headers)("showCreateButton","SUPER ADMIN"==t.user.role)("showUpdateButton","SUPER ADMIN"==t.user.role))},directives:[h.a],styles:[""]}),e})();var b=a("tyNb");const y=[{path:"",component:(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=n.Eb({type:e,selectors:[["app-product"]],decls:1,vars:0,template:function(e,t){1&e&&n.Lb(0,"router-outlet")},directives:[b.g],styles:[""]}),e})(),children:[{path:"",redirectTo:"list",pathMatch:"full"},{path:"list",component:m},{path:"form/:type",component:u,canActivate:[s.a]},{path:"display",component:l}]}];let f=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.Ib({type:e}),e.\u0275inj=n.Hb({imports:[[b.f.forChild(y)],b.f]}),e})(),v=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.Ib({type:e}),e.\u0275inj=n.Hb({imports:[[i.b,f,r.a]]}),e})()}}]);